        </DialogHeader>

        <div className="relative w-full h-full" style={{ perspective: '1000px' }}>
          {/* Card flip container */}
          <motion.div
            className="relative w-full h-full"
            style={{ transformStyle: 'preserve-3d' }}
            animate={{ rotateY: showJournalSide ? 180 : 0 }}
            transition={{ duration: 0.6, ease: 'easeInOut' }}
          >
            {/* Card front (original card) */}
            <div
              className="absolute inset-0 w-full h-full rounded-lg shadow-lg"
              style={{ 
                backfaceVisibility: 'hidden',
                transform: 'rotateY(0deg)'
              }}
            >
              <div className="h-full bg-gradient-to-br from-slate-900 to-slate-800 rounded-lg p-6 flex flex-col">
                {/* Card image */}
                <div className="flex-1 flex items-center justify-center mb-6">
                  <img
                    src={card?.image || '/assets/shuffle7-card-back.svg'}
                    alt={card?.title || 'Card'}
                    className="max-w-full max-h-full object-contain rounded-lg"
                  />
                </div>
                
                {/* Card details */}
                <div className="space-y-4">
                  <h3 className="font-serif text-xl text-primary text-center">
                    {card?.title || card?.message}
                  </h3>
                  <p className="text-slate-300 text-sm text-center">
                    {card?.category}
                  </p>
                </div>

                {/* Journal button */}
                <div className="mt-6 text-center">
                  <Button
                    onClick={handleJournalClick}
                    className="bg-primary hover:bg-primary/90 text-primary-foreground px-8 py-2"
                    data-testid="button-open-journal"
                  >
                    Journal
                  </Button>
                </div>